h2. s3backup

s3backup is a collection of utilities to generate automatic cloud backups (scheduled via cron) through Amazon.com's AWS S3 service. The bucket / key naming system is such that multiple machines at multiple locations can be backed up, easily organized, and easily restored.

The file's hash is calculated for eventual verification and incremental backups.

Data security is not yet fully implemented - transfers are encrypted via TLS and s3backup.py will encrypt archives before sending, but individual file uploads are not yet encrypted.

h3. Set up

s3backup requires boto and pycrypto to run -

bq. $ pip install boto<br />$ pip install pycrypto

All system configuration is in config.py - set your AWS access and secret key, directories, and a few other settings.

bq. Set aws_access_key_id and aws_secret_key to your account keys.

If you're installing this on public or psuedo-public computers, create sub-accounts and use those keys for security. Also manage access permissions from AWS - s3backup doesn't yet do this.

bq. Enter your bucket name and machine name.

s3bucket organizes uploads to effectively organize backups from multiple machines across multiple locations. The bucket name must be unique across all of AWS. If you only backup one machine the machine name is unimportant (enter something; I haven't tested it with None.

bq. Next create the backup lists and point the list variables to it - the comments in the code explain this step.

bq. Set the encryption settings.

If you turn encryption on, set the encryption key. Future versions may hash the input for the actual key to guarantee a strong key. Doing so will be incompatible with the current method, so both decryption functions would be kept for a while.

bq. Set the directory to store the archive in.

If you're keeping a local copy of the backup, specify its intended location. Otherwise, it's fine to keep it in /tmp.

Next set a few miscellaneous settings.

bq. use_archive must be True for now.<br />compression_method can be one of 'none', 'gz', or 'bz2' (default)<br />Set delete_archive_when_finished to True if you don't want to keep a local copy of the archive

restore.py is not yet implmented.

h3. Issues and TODO

* Configuration file instead of storing settings in code
* Encrypt individual file uploads
* Write an automatic restore / guided restore tool
* Test on Windows
* Test on symbolic links
** Setting to determine whether to follow links
* Create cron scheduling guide (Win: Task Manager)
* Implement zip compression
* Some error handling routines need implemented
* s3backup.py needs to handle non-archive uploads
* Security / credential management
